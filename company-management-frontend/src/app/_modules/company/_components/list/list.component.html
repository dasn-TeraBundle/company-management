<toaster-container></toaster-container>

<div class="row" *ngIf="user.role == 'SYS_ADMIN'">
  <div class="col-4 offset-6">
    <a routerLink="add">
      <i class="fa fa-plus"></i> Add Company
    </a>
  </div>
</div>

<div>
  <h3 *ngIf="user.role == 'SYS_ADMIN'">All Companies</h3>
  <h3 *ngIf="user.role != 'SYS_ADMIN'">My Company</h3>
</div>

<div *ngIf="!companies" class="alert alert-info">Fetching Data..</div>

<div *ngIf="companies">
  <div class="alert alert-info" *ngIf="companies.length == 0">No Data Found</div>
  <div class="table-responsive" *ngIf="companies.length > 0">
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Name</th>
        <th>Administrator</th>
        <th *ngIf="user.role == 'SYS_ADMIN'">Manage</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let company of companies">
        <td>{{company.name}}</td>
        <td>{{company.admin.firstname}} {{company.admin.lastname}}</td>
        <td *ngIf="user.role == 'SYS_ADMIN'">
          <button mat-mini-fab color=""><i class="fa fa-pencil"></i></button>
          <button mat-mini-fab color="warn" (click)="onDelete(company)"><i class="fa fa-trash-o"></i></button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
